angular.module("iui.table",["iuiTableTemplates","iuiTable"]),angular.module("startFrom",[]).filter("startFrom",function(){"use strict";return function(e,a){return e?(a=+a,e.slice(a)):void 0}}),angular.module("iui.pager",[]).directive("iuiPager",function(){"use strict";return{restrict:"E",replace:!0,scope:{page:"=",pageSize:"=",totalRecords:"="},templateUrl:"/$iui-table/templates/iui-pager.html",link:function(e,a,i){e.componentId=i.id,e.$watch("totalRecords",function(){e.page>e.pageCount()&&e.getFirstPage()}),e.total=function(){var a=-1,i=parseInt(e.totalRecords,10);isNaN(i)||(a=i)},e.currentPage=function(){var a=1,i=e.page;return isNaN(i)||(a=i),a},e.page=e.pageNum=e.currentPage(),e.getFirstPage=function(){e.page=e.pageNum=1},e.getPreviousPage=function(){e.page=e.pageNum=e.page-1},e.getNextPage=function(){e.page=e.pageNum=e.page+1},e.getLastPage=function(){e.page=e.pageNum=e.pageCount()},e.hasNoMore=function(){return e.page>=e.pageCount()},e.hasNoPrevious=function(){return e.page<=1},e.hasNoPages=function(){return e.pageCount()<2},e.jumpToPage=function(a){!isNaN(a)&&a>0&&a%1===0&&a<=e.pageCount()&&(e.page=a)},e.goToPage=function(){var i=a.find("input[type=number]"),t=parseInt(i.val(),10);e.page=t},e.pageCount=function(){return Math.ceil(e.totalRecords/e.pageSize)}}}}),angular.module("iui.sortHeading",[]).directive("iuiSortHeading",[function(){"use strict";return{restrict:"E",transclude:!0,scope:{iuiSortKey:"@",iuiSortBy:"=",iuiReverse:"="},templateUrl:app.root+"$iui-table/templates/iui-sort-heading.html"}}]),angular.module("iuiTable",["iui.pager","iui.sortHeading","startFrom"]).directive("iuiTable",[function(){"use strict";return{restrict:"E",templateUrl:app.root+"$iui-table/templates/iui-table.html",scope:!0,link:function(e,a,i){e.iuiTable={},e.iuiTable.settings={},e.iuiTable.settings.defaultRowTemplate=app.root+"$iui-table/templates/iui-table-default-row.html",e.iuiTable.settings.defaultHeaderCellTemplate=app.root+"$iui-table/templates/iui-table-header-cell.html",e.iuiTable.pagingOption={currentPage:1,pageSize:10},e.iuiTable.pagingOption.currentPage=1,e.$watch(i.displayColumns,function(a){e.iuiTable.displayColumns=a}),e.$watch(i.rowData,function(a){e.iuiTable.rowData=a}),e.$watch(i.tableCaption,function(a){e.iuiTable.tableCaption=a}),e.$watch(i.hideTableCaption,function(a){e.iuiTable.hideTableCaption=a}),e.$watch(i.hideTablePager,function(a){e.iuiTable.hideTablePager=a}),e.$watch(i.rowTemplate,function(a){e.iuiTable.rowTemplate=a}),e.$watch(i.tableClass,function(a){e.iuiTable.tableClass=a}),e.$watch(i.pageSize,function(a){e.iuiTable.pagingOption.pageSize=a||e.iuiTable.pagingOption.pageSize}),e.iuiTable.sortingOptions=e.$parent.$eval(i.sortingOptions),e.$watch(i.serverSideSorting,function(a){e.iuiTable.serverSideSorting=a}),e.iuiTable.selectedItems=e.$parent.$eval(i.selectedItems),e.determineSelectedItems=function(){e.iuiTable.selectedItems=[],_.each(e.iuiTable.rowData,function(a){a.selected===!0&&e.iuiTable.selectedItems.push(a)})},e.checkAll=function(){e.selectedAll=!e.selectedAll,_.filter(e.iuiTable.rowData,function(a){a.selected=e.selectedAll}),e.determineSelectedItems()},e.isAllSelected=function(){e.selectedAll=_.every(e.iuiTable.rowData,function(e){return e.selected}),e.determineSelectedItems()}}}}]),function(e){try{e=angular.module("iuiTableTemplates")}catch(a){e=angular.module("iuiTableTemplates",[])}e.run(["$templateCache",function(e){e.put("/$iui-table/templates/iui-pager.html",'<div class="table-pager iui-pager custom-pagination" ng-show="pageCount()">\n	<div class="table-pager-info"><span>Total Items: {{totalRecords}}</span></div>\n	<div class="iui-pager-controls table-pager-buttons" ng-if="pageCount() > 1">\n		<button type="button" class="btn btn-default iui-pager-button table-pager-first" data-ng-click="getFirstPage()"  data-ng-disabled="hasNoPrevious()">\n			<div class="pager-first-triangle"><div class="pager-first-bar"></div></div>\n			<span class="first-text sr-only">First</span>\n		</button>\n		<button type="button" class="btn btn-default iui-pager-button table-pager-prev"  data-ng-click="getPreviousPage()" data-ng-disabled="hasNoPrevious()">\n			<div class="pager-first-triangle"></div>\n			<span class="previous-text sr-only">Previous</span>\n		</button>\n		<span class="description"></span>\n		<span class="page">\n			<label for="tblpager_page_{{componentId}}" class="sr-only">Page</label>\n		        <input type="number" id="tblpager_page_{{componentId}}" min="1" max="{{pageCount()}}" ng-model="page" ng-change="jumpToPage(page)" data-ng-disabled="hasNoPages()">\n			<span class="pages" id="tblpage_ofPages_{{componentId}}"> / {{pageCount()}}</span>\n		</span>\n		<button type="button" class="btn btn-default iui-pager-button table-pager-next" data-ng-click="getNextPage()" data-ng-disabled="hasNoMore()">\n			<div class="pager-last-triangle"></div>\n			<span class="next-text sr-only">Next</span>\n		</button>\n		<button type="button" class="btn btn-default iui-pager-button table-pager-last" data-ng-click="getLastPage()" data-ng-disabled = "hasNoMore()">\n			<div class="pager-last-triangle"><div class="pager-last-bar"></div></div>\n			<span class="last-text sr-only">Last</span>\n		</button>\n	</div>\n</div>')}])}(),function(e){try{e=angular.module("iuiTableTemplates")}catch(a){e=angular.module("iuiTableTemplates",[])}e.run(["$templateCache",function(e){e.put("/$iui-table/templates/iui-sort-heading.html",'<a href="" class="iui-sort-heading" role="button" ng-click="iuiSortBy = iuiSortKey; iuiReverse=!iuiReverse" ng-class="{\'sorted\':iuiSortBy === iuiSortKey, \'reversed\':iuiSortBy === iuiSortKey && iuiReverse===false}">\n  <span class="sr-only">Sort by</span>\n  <span ng-transclude></span>\n</a>')}])}(),function(e){try{e=angular.module("iuiTableTemplates")}catch(a){e=angular.module("iuiTableTemplates",[])}e.run(["$templateCache",function(e){e.put("/$iui-table/templates/iui-table-default-row.html",'<td  \n	ng-repeat="column in iuiTable.displayColumns" \n	data-header="{{column.displayName}}" \n	class="iui-table-{{column.field | lowercase}} {{column.columnClass}}" \n	ng-switch="column.field">\n  <span ng-switch-when="date">\n    <time datetime="{{row[column.field] | date:\'yyyy-mm-dd\'}}">{{row[column.field] | date:\'mm/dd/yyyy\'}}</time>\n  </span>\n  <span ng-switch-default>\n    {{row[column.field]}}\n  </span>\n</td>')}])}(),function(e){try{e=angular.module("iuiTableTemplates")}catch(a){e=angular.module("iuiTableTemplates",[])}e.run(["$templateCache",function(e){e.put("/$iui-table/templates/iui-table-header-cell.html",'<iui-sort-heading\n	ng-if="!(columnHeader.sortable === false)"\n	iui-sort-key="{{columnHeader.field}}"\n	iui-sort-by="iuiTable.sortingOptions.field"\n	iui-reverse="iuiTable.sortingOptions.reverse">\n	{{columnHeader.displayName}}\n</iui-sort-heading>\n<span ng-if="columnHeader.sortable === false">\n	{{columnHeader.displayName}}\n</span>\n\n')}])}(),function(e){try{e=angular.module("iuiTableTemplates")}catch(a){e=angular.module("iuiTableTemplates",[])}e.run(["$templateCache",function(e){e.put("/$iui-table/templates/iui-table.html",'<div class="iui-table">\n  <table class="table responsive {{iuiTable.tableClass}}">\n    <caption ng-if="iuiTable.tableCaption">\n      <span\n        ng-bind="iuiTable.tableCaption"\n        ng-class="{\'sr-only\':iuiTable.hideTableCaption}">\n      </span>\n    </caption>\n    <thead>\n      <tr>\n        <th scope="col" ng-repeat="columnHeader in iuiTable.displayColumns | filter:{field:\'checkbox\'}" class="iui-table-header-{{columnHeader.field | lowercase}} {{columnHeader.columnClass}}">\n          <input type="checkbox" class="custom-checkbox in-table-header" ng-model="selectedAll" id="item-selected-{{iuiTable.tableClass}}" ng-click="checkAll()">\n          <label for="item-selected-{{iuiTable.tableClass}}"><span class="sr-only">Select All</span></label>\n          <span class="sr-only">Selected</span>\n        </th>\n        <th scope="col" ng-repeat="columnHeader in iuiTable.displayColumns | filter:{field:\'unread\'}" class="iui-table-header-{{columnHeader.field | lowercase}} {{columnHeader.columnClass}}">\n          <iui-sort-heading\n            iui-sort-key="{{columnHeader.field}}"\n            iui-sort-by="iuiTable.sortingOptions.field"\n            iui-reverse="iuiTable.sortingOptions.reverse">\n            <span class="unread-dot-indicator"></span>\n            <span class="sr-only">Unread</span>\n          </iui-sort-heading>\n        </th>\n        <th\n          scope="col"\n          ng-repeat="columnHeader in iuiTable.displayColumns | filter:{field:\'!checkbox\'} | filter:{field:\'!Button\'} | filter:{field:\'!unread\'}"\n          class="iui-table-header-{{columnHeader.field | lowercase}} {{columnHeader.columnClass}}" \n          ng-include="(columnHeader.headerCellTemplate)? columnHeader.headerCellTemplate : iuiTable.settings.defaultHeaderCellTemplate">\n        </th>\n        <th scope="col" ng-repeat="columnHeader in iuiTable.displayColumns | filter:{field:\'Button\'}" class="iui-table-header-{{columnHeader.field | lowercase}} {{columnHeader.columnClass}}">\n          <span class="sr-only">Actions</span>\n        </th>\n      </tr>\n    </thead>\n    <tbody ng-if="!iuiTable.serverSideSorting">\n      <tr\n        ng-repeat="row in iuiTable.rowData | orderBy:iuiTable.sortingOptions.field:iuiTable.sortingOptions.reverse | startFrom:(iuiTable.pagingOption.currentPage-1)*iuiTable.pagingOption.pageSize | limitTo:iuiTable.pagingOption.pageSize"\n        ng-include="(iuiTable.rowTemplate)?iuiTable.rowTemplate:iuiTable.settings.defaultRowTemplate">\n      </tr>\n    </tbody>\n    <tbody ng-if="iuiTable.serverSideSorting">\n      <tr\n        ng-repeat="row in iuiTable.rowData | startFrom:(iuiTable.pagingOption.currentPage-1)*iuiTable.pagingOption.pageSize | limitTo:iuiTable.pagingOption.pageSize"\n        ng-include="(iuiTable.rowTemplate)?iuiTable.rowTemplate:iuiTable.settings.defaultRowTemplate">\n      </tr>\n    </tbody>\n  </table>\n  <iui-pager \n    ng-if="iuiTable.rowData.length > 0 && !iuiTable.hideTablePager"\n    page="iuiTable.pagingOption.currentPage"\n    page-size="iuiTable.pagingOption.pageSize"\n    total-records="iuiTable.rowData.length">\n  </iui-pager>\n</div>\n')}])}();